<code><pre>
    import java.util.Scanner;
 public class RailE{
    public static void main(String[] args){
        Scanner sc = new Scanner(System.in);
        String msg = sc.nextLine();
        int key = sc.nextInt();
        char[][] matrix = new char[key][msg.length()];
        int row = 0,col =0;
        boolean down = false;
        for(int i=0;i<msg.length();i++){
            if(row == 0 || row == key-1){
                down = !down;
            }
            matrix[row][col++] = msg.charAt(i);
            if(down)
            row++;
            else 
            row--;
        }
        for(int i=0;i< key;i++){
            for(int j=0;j< msg.length();j++){
                if(matrix[i][j]!='\0')
                System.out.print(matrix[i][j]);
                else
                System.out.print(" ");
            }
                            System.out.println();

        }
        String enc = "";
        for(int i=0;i< key;i++){
            for(int j=0;j< msg.length();j++){
                enc+= matrix[i][j];
            }
        }
        System.out.println(enc);
    }
 }
</pre></code>